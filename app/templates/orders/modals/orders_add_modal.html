<div class="modal" id="ordersModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Add Order</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <!-- Form to allow user to add a new inventory item -->
            <form action="{{ url_for('orders.orders_add_order') }}" method="POST" id="addInventoryForm">
                <div class="columns">
                    <div class="column">
                        <h3>Order Info</h3>

                        <!-- Hidden inputs for user-id, cost -->
                        <input type="hidden" name="user-id" id="user-id" value="{{ current_user.id }}">
                        <input type="hidden" name="cost" id="cost" value="0">
                        <input type="hidden" name="customer-status" id="customer-status" value="{{ current_user.status }}">

                        <!-- Flavor -->
                        <div class="mb-3">
                            <label for="flavor" class="form-label">Product</label>
                            <select class="form-control" id="flavor" name="flavor" required>
                                <!-- default disabled option -->
                                <option value="" disabled selected>Select product</option>
                                
                                {% for flavor in unique_flavors %}
                                    <option value="{{ flavor }}">{{ flavor }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <!-- Container size -->
                        <div class="mb-3">
                            <label for="size" class="form-label">Size</label>
                            <select class="form-control" id="container-size" name="container-size" required>
                                <!-- default disabled option -->
                                <option value="" disabled selected>Select size</option>
                            </select>
                        </div>

                        <!-- Product Quantity -->
                        <div class="mb-3">
                            <label for="quantity" class="form-label">Quantity <span id="max-quantity-container" hidden><b>(max: <span id="max-quantity"></span>)</b></span></label>
                            <input type="number"
                                   class="form-control"
                                   id="quantity"
                                   name="quantity"
                                   min="1" required>
                        </div>

                        <!-- Customer Status -->
                        <div class="mb-3">
                            <label for="customer-status-display" class="form-label">Customer Status: <span id="customer-status-display">{{ current_user.status }}</span></label>
                        </div>

                    </div>
                    
                    <div class="column">
                        <h3>Shipping</h3>
                        <!-- Shipping Type -->
                        <div class="mb-3">
                            <label for="shipping-type" class="form-label">Shipping Type</label>
                            <select class="form-control" id="shipping-type" name="shipping-type" required>
                                <option value="standard" selected>Standard</option>
                                <option value="express">Express</option>
                            </select>
                        </div>
                        <!-- Estimated Shipping Date -->
                        <div class="mb-3">
                            <label for="shipping-date" class="form-label">Shipping Date</label>
                            <input type="text"
                                    class="form-control"
                                    id="shipping-date"
                                    name="shipping-date" 
                                    placeholder="MM/DD/YYYY"
                                    pattern="^(0[1-9]|1[0-2])/(0[1-9]|[12][0-9]|3[01])/\d{4}$" required>
                        </div>

                        <!-- Shipping Cost -->
                        <div class="mb-3">
                            <label for="shipping-cost" class="form-label">Shipping Cost</label>
                            <input type="number" step="0.01"
                                   class="form-control"
                                   id="shipping-cost"
                                   name="shipping-cost" 
                                   min="0" pattern="^\d+(\.\d{1,2})?$" required>
                        </div>
                    </div>
                </div>

                <!-- Modal Footer -->
                <div class="modal-footer d-flex justify-content-between align-items-center">
                    
                    <!-- Cost Display and hidden input -->
                    <div class="d-flex align-items-center">
                        <h4>Total: $<span id="cost-display">0.00</span></h4>
                    </div>

                    <!-- Push buttons to right side of footer -->
                    <div class="ml-auto">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Order</button>
                    </div>
                </div>
            </form>
        </div>
        </div>
    </div>
</div>