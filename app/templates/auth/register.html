{% extends 'base.html' %}
{% import 'components/macros.html' as macros %}

{% block title %}Register{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}" type="text/css">
{% endblock %}

{% block content %}

<div class="auth-container">
    <h1 class="auth-title">Register</h1>
    
    <form class="auth-form" action="/register" method="POST">

        <div class="row mb-3">
            <!-- TODO: load data back to form on fail -->

            <!-- first name inputs -->
            <div class="col-md-3">

                <!-- first name input -->
                {{ macros.input_group_floating(
                    label='First Name',
                    id='first-name',
                    name='first-name',
                    type='text',
                    value=first_name,
                    is_required=true,
                    tooltip='Enter your first name.'
                ) }}

            </div>

            <!-- last name input -->
            <div class="col-md-3">

                {{ macros.input_group_floating(
                    label='Last Name',
                    id='last-name',
                    name='last-name',
                    value=last_name,
                    type='text',
                    is_required=true,
                    tooltip='Enter your last name.'
                ) }}

            </div>


            <div class="col-md-3">

                <!-- shipping address input -->
                {{ macros.input_group_floating(
                    label='Shipping Address',
                    id='shipping-address',
                    name='shipping-address',
                    value=shipping_address,
                    type='text',
                    is_required=true,
                    tooltip='Enter your shipping address.'
                ) }}

            </div>

            <div class="col-md-3">

                <!-- checkbox to prefill billing to shipping -->
                <!-- <input type="checkbox" id="billing-checkbox" name="billing-checkbox">
                <label for="billing-checkbox">Billing address same as shipping address</label> -->

                <!-- billing address input -->
                {{ macros.input_group_floating(
                    label='Billing Address',
                    id='billing-address',
                    name='billing-address',
                    value=billing_address,
                    type='text',
                    is_required=true,
                    tooltip='Enter your billing address.'
                ) }}

            </div>

        </div>

        <div class="row mb-3">

            <!-- username input -->
            <div class="col-md-3">

                {{ macros.input_group_floating(
                    label='Username',
                    id='username',
                    name='username',
                    value=username,
                    type='text',
                    is_required=true,
                    tooltip='Enter your username.'
                ) }}

            </div>

            <!-- password input -->
            <div class="col-md-3">

                {{ macros.input_group_floating(
                    label='Password',
                    id='password',
                    name='password',
                    type='password',
                    is_required=true,
                    tooltip='
                        Length: 8-20 characters,\n 
                        At least 1 letter,\n
                        At least 1 number,\n
                        Only these special characters: !@#$%^&*-_+=.'
                ) }}

            </div>

            <div class="col-md-3">

                <!-- confirm password input -->
                {{ macros.input_group_floating(
                    label='Confirm Password',
                    id='confirm-password',
                    name='confirm-password',
                    type='password',
                    is_required=true,
                    tooltip='Confirm your password.'
                ) }}

            </div>

            <div class="col-md-3">

                <!-- submit button -->
                <button class="btn btn-outline-primary" type="submit">Register</button>

            </div>

        </div>

    </form>
    
    <!-- Login link for registered users -->
    <p class="auth-container-redirect">
        Already have an account? <a href="/login"><button class="btn btn-outline-secondary register-btn">Login</button></a>
    </p>

    <!-- Message Display Container -->
    {% if msg %}
        {{ macros.message(msg, msg_type or "danger", "/register") }}
    {% endif %}

    <!-- <p class="system-msg">{% if msg %} {{ msg }} {% endif %}</p> -->
</div>

{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/auth.js') }}"></script>
{% endblock %}